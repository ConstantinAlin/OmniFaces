<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>OnloadScript_1</title>
        <style type="text/css">
            #panelId table { 
                padding:2px; border: 1px solid black; 
            }
            #panelId table td { 
                padding:5px; border: 1px solid black; 
            }            
        </style>
        <o:onloadScript>
            var panel = document.getElementById('panelId');
            panel.innerHTML = '';
            var tbl = document.createElement('table');
            var tbdy = document.createElement('tbody');
            for (var i = 0; i &lt; '#{dataBean.rows}'; i++) {
	            var tr = document.createElement('tr');
	            for (var j = 0; j &lt; '#{dataBean.cols}'; j++) {
		            var td = document.createElement('td');
		            td.appendChild(document.createTextNode('Empty'));
		            tr.appendChild(td);
	            }
	            tbdy.appendChild(tr);
            }
            tbl.appendChild(tbdy);
            panel.appendChild(tbl);
        </o:onloadScript>
    </h:head>
    <h:body>
        <h:panelGroup layout="block" id="panelId"/>
        <h:form id="formId">
            <h:panelGrid columns="2">
                <h:outputLabel for="rowsId" value="Number of rows:" />
                <h:inputText id="rowsId" value="#{dataBean.rows}" />
                <h:outputLabel for="colsId" value="Number of columns:" />
                <h:inputText id="colsId" value="#{dataBean.cols}" />
            </h:panelGrid>
            <h:commandButton value="GENERATE TABLE (non-AJAX)"/>
            <h:commandButton value="GENERATE TABLE (AJAX)">
                <f:ajax execute="@form" render="@form" />
            </h:commandButton>
        </h:form>                                
    </h:body>
</html>
